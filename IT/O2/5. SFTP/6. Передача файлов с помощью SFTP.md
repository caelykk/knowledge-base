
### В локальную систему

Предположим, на SFTP-сервере есть файл под названием for_TRex.txt и располагается он в каталоге /userfolder. Чтобы скопировать файл с сервера на локальную машину, необходимо использовать команду `get`:

```
sftp> get remote_path [local_path]
```

где:
- `remote_path` — обязательное поле, обозначающее месторасположение файла на сервере,
- `local_path` — необязательное поле, обозначающее желаемое месторасположение файла на локальной машине.

Если оставить `local_path` без заполнения, файл будет скопирован с таким же именем в каталог, активный в текущей сессии на локальной машине.

При использовании данного параметра имейте ввиду, что при копировании вы можете изменить имя файла для локальной машины, например:

```
get /userfolder/test.txt /root/files/myfile.txt
```

Флаги:
`-P` – вместе с файлом копирует все права на доступ к нему, 
`-r` – копирует каталог вместе со всем его содержимым.

Чтобы при передаче файлов в локальную систему обеспечить всем новым файлам одинаковые права доступа, вы можете использовать команду

```
sftp> lumask umask
```

где `umask` — это значение маски, которое будет вычитаться из маски полных прав на файл или каталог.

`Например, если установлено значение umask = 022 и на локальную систему загружается каталог, то из 777 будет вычтено 22. Итоговые права доступа к каталогу будут 755, то есть drwxr-xr-x. Если же на локальную систему загружается файл, то 22 будет вычитаться из 666. Таким образом права доступа будут выставлены на 644, то есть -rwxr-xr-x.`

### В удаленную систему

Правила и тонкости копирования в удаленную систему из локальной точно такие же, как из удаленной в локальную. Обязательно указание пути источника копирования и не обязательно — указание пути назначения. 

Команда, которая отвечает за это действие, — `put`.

```
sftp> put local_path [remote_path]
```

