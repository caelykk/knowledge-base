
## Что такое Git?

Git хранит и использует информацию совсем иначе по сравнению с другими системами.
#### Снимки, а не различия

Основное отличие Git от любой другой системы контроля версий (включая Subversion и её собратьев) — это подход к работе со своими данными. Концептуально, большинство других систем хранят информацию в виде списка изменений в файлах. Эти системы (CVS, Subversion, Perforce, Bazaar и т. д.) представляют хранимую информацию в виде набора файлов и изменений, сделанных в каждом файле, по времени (обычно это называют контролем версий, _основанным на различиях_).

![[Pasted image 20260117194338.png]]
Рисунок 4. *Хранение данных как набора изменений относительно первоначальной версии каждого из файлов*

Подход Git к хранению данных больше похож на набор снимков миниатюрной файловой системы. Каждый раз, когда вы делаете коммит, то есть сохраняете состояние своего проекта в Git, система запоминает, как выглядит каждый файл в этот момент, и сохраняет ссылку на этот снимок. Для увеличения эффективности, если файлы не были изменены, Git не запоминает эти файлы вновь, а только создаёт ссылку на предыдущую версию идентичного файла, который уже сохранён. Git представляет свои данные как, скажем, **поток снимков**.
![[Pasted image 20260117194604.png]]
Рисунок 5. *Хранение данных как снимков проекта во времени*

Это делает Git больше похожим на миниатюрную файловую систему с удивительно мощными утилитами, надстроенными над ней, нежели просто на VCS.

#### Почти все операции выполняются локально

Для работы большинства операций в Git достаточно локальных файлов и ресурсов — в основном, системе не нужна никакая информация с других компьютеров в вашей сети. Вся история проекта хранится прямо на нашем локальном диске. 

Чтобы посмотреть историю проекта, Git не нужно соединяться с сервером для её получения и отображения — система просто считывает данные напрямую из локальной базы данных. Это означает, что вы увидите историю проекта практически моментально.

Есть лишь небольшое количество действий, которые мы не сможем выполнить, если мы находимся оффлайн или не имеем доступа к VPN в данный момент. Если мы в самолёте или в поезде и хотим немного поработать, мы сможем создавать коммиты без каких-либо проблем (в вашу _локальную_ копию,): когда будет возможность подключиться к сети, все изменения можно будет синхронизировать. 

#### Целостность Git

В Git для всего вычисляется хеш-сумма, и только потом происходит сохранение. В дальнейшем обращение к сохранённым объектам происходит по этой хеш-сумме. Это значит, что невозможно изменить содержимое файла или каталога так, чтобы Git не узнал об этом.

	Данная функциональность встроена в Git на низком уровне и является неотъемлемой 
	частью его философии. 
	Вы не потеряете информацию во время её передачи и не получите повреждённый файл без 
	ведома Git.

**SHA-1 хеш** — механизм, которым пользуется Git при вычислении хеш-сумм. 
Это строка длиной в 40 шестнадцатеричных символов (0-9 и a-f), она вычисляется на основе содержимого файла или структуры каталога.

```
24b9da6552252987aa493b52f8696cd6d3b00373
```

Git сохраняет все объекты в свою базу данных не по имени, а по хеш-сумме содержимого объекта.

#### Git обычно только добавляет данные

Когда мы производите какие-либо действия в Git, практически все из них только *добавляют* новые данные в базу Git. 
Мы можете потерять или испортить свои изменения, пока они не зафиксированы, но после того, как мы зафиксируем снимок в Git, будет очень сложно что-либо потерять, особенно, если мы регулярно синхронизируем свою базу с другим репозиторием.

#### Три состояния

У **Git** есть три основных `состояния`, в которых могут находиться ваши файлы:

1) `modified` (*изменен*) — файлы, которые поменялись, но ещё не были зафиксированы.
2) `staged` (*индексирован*) — изменённый файл в его текущей версии, отмеченный для включения в следующий коммит.
3) `committed` (*зафиксирован*) — файл уже сохранён в вашей локальной базе.

Три основные секции проекта Git:
1) `working tree` (*рабочая копия*)— является снимком одной версии проекта. Эти файлы извлекаются из сжатой базы данных в каталоге Git и помещаются на диск, для того чтобы их можно было использовать или редактировать.
2) `staging area` (*область индексирования*) — это файл, обычно находящийся в каталоге Git, в нём содержится информация о том, что попадёт в следующий коммит. Её техническое название на языке Git — «индекс», но фраза «область индексирования» также работает.
3) `Git directory` (*Каталог Git*) — место, где Git хранит метаданные и базу объектов вашего проекта. Это самая важная часть Git и это та часть, которая копируется при *клонировании репозитория* с другого компьютера.

Базовый подход в работе с Git выглядит так:
1. Изменяете файлы вашей `рабочей копии`.
2. Выборочно `добавляете в индекс` только те изменения, которые должны попасть в следующий `коммит`, добавляя тем самым `снимки` только этих изменений в `индекс`.
3. Когда вы делаете `коммит`, используются файлы из `индекса` как есть, и этот `снимок` сохраняется в ваш `каталог Git`.

Если определённая версия файла есть в каталоге Git, эта версия считается _зафиксированной_ (**committed**). 

Если файл был изменён и добавлен в индекс, значит, он _индексирован_ (**staged**). 

И если файл был изменён с момента последнего распаковывания из репозитория, но не был добавлен в индекс, он считается _изменённым_ (**modified**).